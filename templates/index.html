<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AstraFin | Premium Loan Advisor</title>
  <link rel="stylesheet" href="/static/css/styles.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"
    rel="stylesheet">
</head>

<body>
  <!-- Ambient Background -->
  <div class="ambient-background"></div>
  <div class="star-field" id="star-field" aria-hidden="true"></div>

  <!-- Loading Screen -->
  <div class="loading-screen" id="loading-screen">
    <div class="brand-logo" style="width: 64px; height: 64px; font-size: 2rem;">A</div>
  </div>

  <!-- Main App Container -->
  <main class="app-container">

    <!-- Sidebar (Glass Panel) -->
    <aside class="sidebar glass-panel">
      <div class="brand">
        <div class="brand-logo">A</div>
        <div class="brand-name">AstraFin</div>
      </div>

      <div style="flex: 1; display: flex; flex-direction: column; gap: 2rem;">
        <div>
          <p class="text-label" style="margin-bottom: 1rem;">Your Journey</p>
          <div style="display: flex; flex-direction: column; gap: 1rem;">
            <div style="display: flex; gap: 0.75rem; opacity: 1;">
              <div style="width: 2px; background: white; border-radius: 2px;"></div>
              <div>
                <strong style="display: block; font-size: 0.9rem;">Discovery</strong>
                <span style="font-size: 0.8rem; color: var(--text-tertiary);">Understanding your needs</span>
              </div>
            </div>
            <div style="display: flex; gap: 0.75rem; opacity: 0.4;">
              <div style="width: 2px; background: var(--border-subtle); border-radius: 2px;"></div>
              <div>
                <strong style="display: block; font-size: 0.9rem;">Analysis</strong>
                <span style="font-size: 0.8rem; color: var(--text-tertiary);">Crunching the numbers</span>
              </div>
            </div>
            <div style="display: flex; gap: 0.75rem; opacity: 0.4;">
              <div style="width: 2px; background: var(--border-subtle); border-radius: 2px;"></div>
              <div>
                <strong style="display: block; font-size: 0.9rem;">Options</strong>
                <span style="font-size: 0.8rem; color: var(--text-tertiary);">Tailored solutions</span>
              </div>
            </div>
          </div>
        </div>

        <div>
          <p class="text-label" style="margin-bottom: 1rem;">Context</p>
          <div class="context-chips">
            <button class="context-chip active" data-vibe="Empathy first" data-caption="We'll take our time.">
              I need calm guidance
            </button>
            <button class="context-chip" data-vibe="Let's celebrate" data-caption="Big energy, clear steps.">
              I'm celebrating something
            </button>
            <button class="context-chip" data-vibe="Fast lane" data-caption="Prioritizing timelines.">
              I'm on a tight timeline
            </button>
          </div>
        </div>
      </div>

      <div style="padding-top: 1rem; border-top: 1px solid var(--border-subtle);">
        <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
          <span class="text-label">Trust Score</span>
          <span class="text-label" style="color: white;">98/100</span>
        </div>
        <div style="height: 4px; background: rgba(255,255,255,0.1); border-radius: 2px; overflow: hidden;">
          <div style="width: 98%; height: 100%; background: var(--accent-primary);"></div>
        </div>
      </div>
    </aside>

    <!-- Chat Stage (Glass Panel) -->
    <section class="chat-stage glass-panel">
      <header class="chat-header">
        <div>
          <h1 style="font-size: 1.125rem; margin-bottom: 0.25rem;">Astra Advisor</h1>
          <p style="font-size: 0.875rem; color: var(--text-secondary);">AI Financial Partner</p>
        </div>
        <div class="agent-status">
          <span class="status-dot"></span>
          <span>Online</span>
        </div>
      </header>

      <div class="chat-window" id="chat-window">
        <!-- Messages will be injected here -->
      </div>

      <!-- Conversation Starters (Hidden by default, shown via JS if needed) -->
      <div id="conversation-starters" style="padding: 0 var(--space-6); margin-bottom: var(--space-4);">
        <p class="text-label" style="margin-bottom: 0.75rem;">Suggested Topics</p>
        <div style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
          <button class="starter-pill context-chip" style="display: inline-block; width: auto;"
            data-message="I'm planning a big purchase.">Big Purchase</button>
          <button class="starter-pill context-chip" style="display: inline-block; width: auto;"
            data-message="Consolidate my debt.">Debt Consolidation</button>
          <button class="starter-pill context-chip" style="display: inline-block; width: auto;"
            data-message="Explain interest rates.">Interest Rates</button>
        </div>
      </div>

      <form id="chat-form" class="input-area" autocomplete="off">
        <div class="input-wrapper">
          <textarea id="user-input" rows="1" placeholder="Ask anything about your finances..." required></textarea>
          <button type="submit" id="send-btn" class="send-btn" aria-label="Send message">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
              stroke-linecap="round" stroke-linejoin="round">
              <line x1="22" y1="2" x2="11" y2="13"></line>
              <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
            </svg>
          </button>
        </div>
      </form>
    </section>

  </main>

  <script src="/static/js/chat.js" defer></script>
</body>

</html>